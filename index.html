<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Average Color Viewer</title>
  <style>
    body {
      margin: 0;
      padding: 16px;
      font-family: sans-serif;
    }

    .row {
      margin-bottom: 24px;
    }

    .row p {
      margin: 0 0 8px;
    }

    .color-grid {
      display: flex;
      flex-wrap: wrap;
    }

    .color-box {
      width: 20px;
      height: 20px;
      margin: 0px;
      border: 1px solid #ccc;
      box-sizing: border-box;
    }
  </style>
</head>

<body>
  <h1>SkyPixels</h1>
  <p>See the <a href='https://github.com/funvill/skypixel'>Skypixel</a> project page for more information</p>


  <script>
    // Inline settings: array of { title, path }
    const settings = [

      { title: "English Bay Vancouver <i><a href='https://www.youtube.com/watch?v=Fq-P0bdelRs'>Fq-P0bdelRs</a></i>", path: "./images/Fq-P0bdelRs/output.json" },
      { title: "Departure Bay <i><a href='https://www.youtube.com/watch?v=2G7bdqbL1EU'>2G7bdqbL1EU</a></i>", path: "./images/2G7bdqbL1EU/output.json" },
      { title: "White Rock, Canada <i><a href='https://www.youtube.com/watch?v=4MK3E9EWDSY'>4MK3E9EWDSY</a></i>", path: "./images/4MK3E9EWDSY/output.json" },
      { title: "White Rock, Canada <i><a href='https://www.youtube.com/watch?v=LENLyDDEtUM'>LENLyDDEtUM</a></i>", path: "./images/LENLyDDEtUM/output.json" },
      { title: "White Rock, B.C. - Memorial Park <i><a href='https://www.youtube.com/watch?v=IRIAXc0iT9A'>IRIAXc0iT9A</a></i>", path: "./images/IRIAXc0iT9A/output.json" },
      { title: "Surrey, B.C. border <i><a href='https://www.youtube.com/watch?v=Hcl9l2Z8mTI'>Hcl9l2Z8mTI</a></i>", path: "./images/Hcl9l2Z8mTI/output.json" },
      { title: "Pacific Sands Beach Resort, Tofino, BC <i><a href='https://www.youtube.com/watch?v=g2HGBY2v-wo'>g2HGBY2v-wo</a></i>", path: "./images/g2HGBY2v-wo/output.json" },
      { title: "Crystal Cove Beach Resort, Tofino, B.C. <i><a href='https://www.youtube.com/watch?v=AovvFApVnKc'>AovvFApVnKc</a></i>", path: "./images/AovvFApVnKc/output.json" },
      { title: "Whistler Olympic Plaza <i><a href='https://www.youtube.com/watch?v=IEhDUXECe_k'>IEhDUXECe_k</a></i>", path: "./images/IEhDUXECe_k/output.json" },
      { title: "Whistler Golf Club - 1st hole <i><a href='https://www.youtube.com/watch?v=JVQaZtahjwg'>JVQaZtahjwg</a></i>", path: "./images/JVQaZtahjwg/output.json" },
      { title: "Howe Sound <i><a href='https://www.youtube.com/watch?v=SDGEHMiWOA'>SDGEHMiWOA</a></i>", path: "./images/SDGEHMh3WOA/output.json" },
      { title: "Mt Seymour Ski Area, Vancouver, BC <i><a href='https://www.youtube.com/watch?v=vLawo-FrBKk'>vLawo-FrBKk</a></i>", path: "./images/vLawo-FrBKk/output.json" },
      { title: "Deep Cove, Vancouver Canada <i><a href='https://www.youtube.com/watch?v=T0oUufecXeE'>T0oUufecXeE</a></i>", path: "./images/T0oUufecXeE/output.json" },
      { title: "Cape Town - South Africa <i><a href='https://www.youtube.com/watch?v=-zgjmZ_nZLI'>-zgjmZ_nZLI</a></i>", path: "./images/-zgjmZ_nZLI/output.json" },
      { title: "Venice - St. Mark's Basin <i><a href='https://www.youtube.com/watch?v=dFBRpHHwQeg'>dFBRpHHwQeg</a></i>", path: "./images/dFBRpHHwQeg/output.json" },
      { title: "Peace Bridge - Buffalo NY <i><a href='https://www.youtube.com/watch?v=DnUFAShZKus'>DnUFAShZKus</a></i>", path: "./images/DnUFAShZKus/output.json" },
      { title: "Crystal Bay Beach Resort | Lamai | Koh Samui | Thailand <i><a href='https://www.youtube.com/watch?v=Fw9hgttWzIg'>Fw9hgttWzIg</a></i>", path: "./images/Fw9hgttWzIg/output.json" },
      { title: "Main Street Canmore <i><a href='https://www.youtube.com/watch?v=kC6_JqEt3GA'>kC6_JqEt3GA</a></i>", path: "./images/kC6_JqEt3GA/output.json" },
      { title: "Lockeport Crescent Beach Centre, Nova Scotia <i><a href='https://www.youtube.com/watch?v=Pwt0tZlt9eE'>Pwt0tZlt9eE</a></i>", path: "./images/Pwt0tZlt9eE/output.json" },
      { title: "Greenhill Beach (Weymouth) <i><a href='https://www.youtube.com/watch?v=s2rzmSNpyns'>s2rzmSNpyns</a></i>", path: "./images/s2rzmSNpyns/output.json" },
      { title: "Blenheim Dawlish <i><a href='https://www.youtube.com/watch?v=Y28zZGsYkjg'>Y28zZGsYkjg</a></i>", path: "./images/Y28zZGsYkjg/output.json" },
    ];

    settings.forEach(setting => {
      const row = document.createElement('div');
      row.className = 'row';

      const header = document.createElement('p');
      header.innerHTML = setting.title;
      row.appendChild(header);

      const grid = document.createElement('div');
      grid.className = 'color-grid';
      row.appendChild(grid);

      // Load JSON and populate boxes
      fetch(setting.path)
        .then(res => res.json())
        .then(data => {
          data.forEach(item => {
            const div = document.createElement('div');
            div.className = 'color-box';
            const avg = item.average;
            const fill = avg.a !== undefined
              ? `rgba(${avg.r},${avg.g},${avg.b},${(avg.a / 255).toFixed(2)})`
              : `rgb(${avg.r},${avg.g},${avg.b})`;
            div.style.backgroundColor = fill;
            div.title = item.file;
            grid.appendChild(div);
          });
        })
        .catch(err => console.error(`Error loading ${setting.path}:`, err));

      document.body.appendChild(row);
    });
  </script>
</body>

</html>